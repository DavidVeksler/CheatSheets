<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Engineering Materials of the Future: Graphene, Metamaterials & Advanced Composites</title>
  <meta name="description" content="Next-generation engineering materials guide covering graphene, metamaterials, and advanced composites—their extreme properties, physical limits, manufacturability, and near-term playbooks for R&D leaders.">
  <meta name="keywords" content="graphene, metamaterials, advanced composites, materials roadmap, nanomaterials, manufacturing readiness, aerospace materials, photonics, future materials">
  <link rel="canonical" href="https://cheatsheets.davidveksler.com/engineering-materials-future.html">

  <meta property="og:title" content="Engineering Materials of the Future: Graphene, Metamaterials & Advanced Composites">
  <meta property="og:description" content="Interactive cheatsheet on graphene, metamaterials, and advanced composites—properties, limits, use cases, and manufacturing roadmaps.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://cheatsheets.davidveksler.com/engineering-materials-future.html">
  <meta property="og:image" content="images/engineering-materials-future.png">
  <meta property="og:image:alt" content="Stylized diagram of graphene lattice, metamaterial unit cells, and composite layups">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Engineering Materials of the Future: Graphene, Metamaterials & Advanced Composites">
  <meta name="twitter:description" content="Future materials reference: compare graphene, metamaterials, and advanced composites by properties, risk, and readiness.">
  <meta name="twitter:image" content="images/engineering-materials-future.png">
  <meta name="twitter:creator" content="@heroiclife">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "Engineering Materials of the Future: Graphene, Metamaterials & Advanced Composites",
    "description": "Interactive guide comparing graphene, metamaterials, and advanced composites across properties, manufacturing readiness, and strategic use cases.",
    "author": {"@type": "Person", "name": "David Veksler (AI Generated)"},
    "publisher": {"@type": "Organization", "name": "David Veksler Cheatsheets"},
    "datePublished": "2025-11-08",
    "dateModified": "2025-11-08",
    "keywords": "graphene, metamaterials, advanced composites, nanotechnology, manufacturing, materials roadmap"
  }
  </script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-wUgD4Pj5rQr2QNB4q0JwgbGdU5l0DmeH/yphf0HftM2hZ3AKpMTJcC/wUpCL8Hgm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <style>
    :root {
      --page-bg: #050714;
      --card-bg: #0f172a;
      --card-border: rgba(255, 255, 255, 0.1);
      --text-color: #f8fafc;
      --accent: #3b82f6;
      --accent-soft: rgba(59, 130, 246, 0.15);
      --chip-bg: rgba(255, 255, 255, 0.08);
      --chip-active: rgba(59, 130, 246, 0.25);
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.25), transparent 45%),
        radial-gradient(circle at 80% 0%, rgba(139, 92, 246, 0.18), transparent 40%),
        var(--page-bg);
      color: var(--text-color);
      min-height: 100vh;
    }

    ::selection {
      background: rgba(59, 130, 246, 0.5);
      color: #fff;
    }

    a {
      color: #93c5fd;
    }

    .cheatsheet-shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 1.25rem 5rem;
    }

    .glass-card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 1.25rem;
      padding: 2rem;
      box-shadow: 0 25px 80px rgba(5, 7, 20, 0.55);
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }

    .stat-chip {
      display: flex;
      gap: 0.9rem;
      align-items: flex-start;
      padding: 1rem 1.2rem;
      border-radius: 1rem;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.85));
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
    }

    .stat-chip i {
      font-size: 1.35rem;
      color: var(--accent);
    }

    .stat-label {
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #94a3b8;
    }

    .stat-text {
      font-size: 0.95rem;
      color: var(--text-color);
    }

    .control-panel {
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .filter-panel {
      border-top: 1px solid rgba(148, 163, 184, 0.12);
      margin-top: 1.5rem;
      padding-top: 1.5rem;
    }

    .control-slate {
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.35);
      color: var(--text-color);
      border-radius: 0.85rem;
    }

    .control-slate:focus {
      color: var(--text-color);
      background: rgba(15, 23, 42, 0.95);
      border-color: rgba(59, 130, 246, 0.7);
      box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
    }

    .filter-chip {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(15, 23, 42, 0.6);
      color: var(--text-color);
      padding: 0.45rem 1.1rem;
      font-size: 0.85rem;
      transition: all 0.2s ease;
    }

    .filter-chip.active,
    .btn-check:checked + .filter-chip {
      background: var(--accent-soft);
      border-color: rgba(59, 130, 246, 0.8);
      color: #e0f2fe;
      box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.4);
    }

    .btn-check:focus + .filter-chip {
      box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.5), 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
    }

    .insight-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }

    .insight-card {
      position: relative;
      padding: 1.5rem;
      border-radius: 1.2rem;
      border: 1px solid rgba(148, 163, 184, 0.2);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.25), transparent 60%),
        rgba(15, 23, 42, 0.85);
      box-shadow: 0 18px 40px rgba(2, 6, 23, 0.6);
    }

    .insight-icon {
      width: 46px;
      height: 46px;
      border-radius: 50%;
      background: rgba(59, 130, 246, 0.18);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #bfdbfe;
      margin-bottom: 0.75rem;
      font-size: 1.35rem;
    }

    .insight-card ul {
      padding-left: 1.1rem;
      margin-bottom: 0;
      color: rgba(248, 250, 252, 0.78);
      font-size: 0.92rem;
    }

    .insight-card ul li + li {
      margin-top: 0.35rem;
    }

    .takeaway-card {
      display: flex;
      gap: 1rem;
      padding: 1.1rem 1.4rem;
      border-radius: 1rem;
      border: 1px solid rgba(148, 163, 184, 0.2);
      background: linear-gradient(135deg, rgba(148, 163, 184, 0.1), rgba(59, 130, 246, 0.08));
    }

    .takeaway-icon {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: rgba(59, 130, 246, 0.25);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #e0f2fe;
      font-size: 1.1rem;
    }

    .comparison-table {
      border-radius: 1.25rem;
      overflow: hidden;
      border: 1px solid rgba(148, 163, 184, 0.2);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
      background: rgba(7, 11, 25, 0.65);
    }

    .comparison-table thead th {
      color: #dbeafe;
      letter-spacing: 0.08em;
      font-size: 0.78rem;
      border-bottom-color: rgba(255, 255, 255, 0.08);
    }

    .comparison-table tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.55);
    }

    .comparison-table tbody th {
      color: #a5b4fc;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.12em;
      width: 16%;
    }

    .comparison-table tbody td {
      border-color: rgba(148, 163, 184, 0.15);
      line-height: 1.5;
    }

    .comparison-table tbody td + td {
      border-left: 1px solid rgba(148, 163, 184, 0.12);
    }

    .comparison-table td,
    .comparison-table th {
      padding: 1.25rem 1rem;
      vertical-align: top;
    }

    .comparison-table .factor-cell {
      color: rgba(226, 232, 240, 0.8);
      font-weight: 600;
      letter-spacing: 0.08em;
      font-size: 0.78rem;
    }

    .matrix-focus-controls {
      border-top: 1px solid rgba(148, 163, 184, 0.12);
      margin-top: 1.5rem;
      padding-top: 1.5rem;
    }

    .focus-chip {
      border-radius: 0.85rem;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(15, 23, 42, 0.7);
      color: var(--text-color);
      padding: 0.55rem 1.25rem;
      font-size: 0.85rem;
      transition: all 0.2s ease;
    }

    .focus-chip.active {
      background: rgba(59, 130, 246, 0.2);
      border-color: rgba(59, 130, 246, 0.8);
      color: #e0f2fe;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.4);
    }

    .comparison-table[data-focus-col="all"] tbody td,
    .comparison-table[data-focus-col="all"] thead th {
      background: transparent;
    }

    .comparison-table[data-focus-col="2"] tbody td:nth-child(2),
    .comparison-table[data-focus-col="2"] thead th:nth-child(2),
    .comparison-table[data-focus-col="3"] tbody td:nth-child(3),
    .comparison-table[data-focus-col="3"] thead th:nth-child(3),
    .comparison-table[data-focus-col="4"] tbody td:nth-child(4),
    .comparison-table[data-focus-col="4"] thead th:nth-child(4) {
      background: rgba(59, 130, 246, 0.1);
      box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.25);
    }

    .matrix-note {
      font-size: 0.85rem;
      color: rgba(226, 232, 240, 0.7);
    }

    .progress {
      background: rgba(15, 23, 42, 0.8);
      border-radius: 999px;
      height: 0.55rem;
      border: 1px solid rgba(148, 163, 184, 0.2);
    }

    .progress-bar {
      background: linear-gradient(90deg, #22d3ee, #3b82f6, #a855f7);
    }

    .metric-label {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(248, 250, 252, 0.7);
    }

    .timeline-card {
      background: rgba(15, 23, 42, 0.85);
      border-radius: 1rem;
      border: 1px solid rgba(59, 130, 246, 0.25);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
    }

    .material-card {
      background: rgba(15, 23, 42, 0.92);
      border-radius: 1.25rem;
      border: 1px solid var(--card-border);
      padding: 2rem;
      transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 18px 35px rgba(3, 7, 18, 0.55);
      backdrop-filter: blur(12px);
    }

    .material-card:hover {
      transform: translateY(-6px);
      border-color: rgba(59, 130, 246, 0.6);
      box-shadow: 0 24px 50px rgba(3, 7, 18, 0.65);
    }

    .eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.8rem;
      color: #94a3b8;
    }

    .badge-soft {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 0.75rem;
      padding: 0.35rem 0.75rem;
      font-size: 0.8rem;
    }

    .list-check li::marker {
      content: "✔ ";
      color: var(--accent);
      font-size: 0.8rem;
    }

    details summary {
      list-style: none;
      cursor: pointer;
      position: relative;
      font-weight: 600;
      margin-bottom: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 0.9rem;
      background: rgba(148, 163, 184, 0.08);
    }

    details summary::after {
      content: "\f282";
      font-family: "Bootstrap-icons";
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      transition: transform 0.2s ease;
    }

    details[open] summary::after {
      transform: translateY(-50%) rotate(180deg);
    }

    details > div {
      border-top: 1px solid var(--card-border);
      padding-top: 1rem;
      margin-top: 0.5rem;
    }

    .list-group-item {
      border-color: rgba(148, 163, 184, 0.15);
      color: var(--text-color);
    }

    .list-group-item + .list-group-item {
      border-top: 1px solid rgba(148, 163, 184, 0.1);
    }

    .comparison-table thead th {
      color: #cbd5f5;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 0.75rem;
      border-bottom-color: rgba(255, 255, 255, 0.1);
    }

    .comparison-table tbody td {
      border-color: rgba(255, 255, 255, 0.08);
    }

    .empty-state {
      border: 1px dashed rgba(148, 163, 184, 0.4);
      border-radius: 1rem;
      background: rgba(15, 23, 42, 0.5);
    }

    .recommendation-card {
      background: rgba(15, 23, 42, 0.92);
      border-radius: 1.25rem;
      border: 1px solid rgba(59, 130, 246, 0.25);
      padding: 1.75rem;
      box-shadow: 0 20px 45px rgba(3, 7, 18, 0.6);
    }

    .badge-pill {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      padding: 0.25rem 0.9rem;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #cbd5f5;
    }

    .fit-meta {
      font-size: 0.82rem;
      letter-spacing: 0.08em;
      color: rgba(226, 232, 240, 0.75);
    }

    .readiness-card {
      background: rgba(9, 13, 30, 0.85);
      border: 1px solid rgba(59, 130, 246, 0.25);
      border-radius: 1.25rem;
      padding: 1.75rem;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    .readiness-item + .readiness-item {
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(148, 163, 184, 0.15);
    }

    .heatmap-track {
      position: relative;
      height: 0.75rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      margin: 0.75rem 0 0.5rem;
      overflow: hidden;
    }

    .heatmap-fill {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      width: var(--fill, 50%);
      background: linear-gradient(90deg, #22d3ee, #3b82f6, #a855f7);
      border-radius: 999px;
      transition: width 0.35s ease;
    }

    .heatmap-pip {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #f8fafc;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.35);
      transition: left 0.35s ease;
    }

    .readiness-meta {
      font-size: 0.9rem;
      color: rgba(226, 232, 240, 0.75);
      margin-bottom: 0;
    }

    .readiness-toggle {
      display: inline-flex;
      padding: 0.3rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      background: rgba(15, 23, 42, 0.6);
      gap: 0.35rem;
    }

    .readiness-toggle button {
      border: none;
      background: transparent;
      color: rgba(226, 232, 240, 0.75);
      font-size: 0.85rem;
      padding: 0.45rem 1rem;
      border-radius: 999px;
      transition: all 0.2s ease;
    }

    .readiness-toggle button.active {
      background: rgba(59, 130, 246, 0.2);
      color: #f8fafc;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.35);
    }

    @media (max-width: 768px) {
      .glass-card,
      .material-card {
        padding: 1.5rem;
      }
    }

    @media print {
      body {
        background: #fff;
        color: #000;
      }
      .glass-card,
      .material-card,
      .control-panel {
        border: 1px solid #ccc;
        box-shadow: none;
        background: #fff;
        color: #000;
      }
      details summary::after {
        display: none;
      }
      details > div {
        border-top: none;
        padding-top: 0;
      }
      .stat-chip {
        border-color: #ccc;
        color: #000;
      }
    }
  </style>
</head>
<body>
  <div class="cheatsheet-shell">
    <header class="glass-card mb-4 text-white">
      <p class="text-uppercase text-muted fw-semibold mb-1">Rapid reference · Updated 2025-11-08</p>
      <h1 class="display-5 fw-bold">Engineering Materials of the Future</h1>
      <p class="lead text-white-50 mb-4">Compare the three most discussed breakthrough material classes—graphene, metamaterials, and advanced composites—across properties, physics limits, manufacturability, and execution plays for engineering leaders.</p>
      <div class="stat-grid">
        <div class="stat-chip">
          <i class="bi bi-lightning-charge"></i>
          <div>
            <p class="stat-label mb-1">Top drivers</p>
            <p class="stat-text mb-0">Weight reduction · extreme conductivity · wave control</p>
          </div>
        </div>
        <div class="stat-chip">
          <i class="bi bi-calendar3"></i>
          <div>
            <p class="stat-label mb-1">Decision horizon</p>
            <p class="stat-text mb-0">Pilot now → scale deployments 2030+</p>
          </div>
        </div>
        <div class="stat-chip">
          <i class="bi bi-diagram-3"></i>
          <div>
            <p class="stat-label mb-1">Reference programs</p>
            <p class="stat-text mb-0">Aerospace, photonics, energy systems, medical devices</p>
          </div>
        </div>
      </div>
    </header>

    <section class="glass-card control-panel mb-4">
      <p class="text-uppercase text-muted fw-semibold mb-3">Execution brief</p>
      <div class="insight-grid">
        <article class="insight-card">
          <div class="insight-icon"><i class="bi bi-shield-check"></i></div>
          <p class="stat-label mb-1">Qualification gates</p>
          <ul>
            <li>Require Raman + AFM maps for graphene batches &lt;10% defect density.</li>
            <li>Embed fiber Bragg or ultrasonic NDE for composite coupons.</li>
          </ul>
        </article>
        <article class="insight-card">
          <div class="insight-icon"><i class="bi bi-diagram-3"></i></div>
          <p class="stat-label mb-1">Integration stack</p>
          <ul>
            <li>Co-design antennas/metasurfaces with RF front-ends to manage loss.</li>
            <li>Pair graphene foils with composite skins for multifunctional panels.</li>
          </ul>
        </article>
        <article class="insight-card">
          <div class="insight-icon"><i class="bi bi-exclamation-octagon"></i></div>
          <p class="stat-label mb-1">Watch-outs</p>
          <ul>
            <li>Defect density &amp; hotspot management remain top failure modes.</li>
            <li>Account for 16–24&nbsp;week lead times on aerospace-grade layups.</li>
          </ul>
        </article>
      </div>
      <div class="filter-panel">
        <div class="row g-4 align-items-center">
          <div class="col-lg-4">
            <p class="stat-label mb-1">Mission focus filter</p>
            <p class="text-white-50 small mb-0">Toggle one or more chips to narrow down stacks. Showing <span id="visibleCount">3</span> materials.</p>
          </div>
          <div class="col-lg-8">
            <div class="d-flex flex-wrap gap-2" id="tagFilters">
              <button type="button" class="btn filter-chip active" data-tag="all">All</button>
              <button type="button" class="btn filter-chip" data-tag="aerospace">Aerospace</button>
              <button type="button" class="btn filter-chip" data-tag="electronics">Electronics</button>
              <button type="button" class="btn filter-chip" data-tag="energy">Energy</button>
              <button type="button" class="btn filter-chip" data-tag="defense">Defense</button>
              <button type="button" class="btn filter-chip" data-tag="photonics">Photonics</button>
              <button type="button" class="btn filter-chip" data-tag="mobility">Mobility</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="row g-4" id="materialCards">
      <div class="col-12">
        <article class="material-card" data-tags="electronics energy aerospace defense photonics">
          <div class="d-flex flex-column flex-lg-row justify-content-between align-items-start gap-3">
            <div>
              <p class="eyebrow">Graphene</p>
              <h2 class="h3">Atom-scale conductor with extreme strength</h2>
              <p class="mb-2">Monolayer carbon lattice with ~130&nbsp;GPa tensile strength, >5,000&nbsp;W·m<sup>-1</sup>·K<sup>-1</sup> thermal conductivity, and nearly transparent optics.</p>
            </div>
            <div class="text-lg-end">
              <span class="badge-soft d-inline-flex align-items-center mb-1"><i class="bi bi-activity me-1"></i> TRL 5–6 (RF interconnects, sensors)</span><br>
              <span class="badge-soft d-inline-flex align-items-center"><i class="bi bi-currency-dollar me-1"></i> Cost: $60–120/gram for electronics-grade CVD films</span>
            </div>
          </div>

          <div class="row g-4 mt-3">
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">What makes it different</h3>
              <ul class="list-unstyled list-check ps-3 mb-0">
                <li>Sheet resistance <2&nbsp;Ω/□ enables transparent electrodes & RF shielding without bulk metals.</li>
                <li>Chemical stability plus impermeability down to helium supports barrier films.</li>
                <li>Flexes to 20% strain before fracture when pristine, unlocking bendable electronics.</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Physical limits to respect</h3>
              <ul class="list-unstyled ps-3 mb-0">
                <li>No native bandgap → digital logic requires patterning or heterostructures.</li>
                <li>Polycrystalline domains reduce strength by ~40–50% if transfer defects persist.</li>
                <li>Contact resistance dominates below 10&nbsp;nm gates, limiting CMOS drop-in dreams.</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Manufacturing & playbook</h3>
              <ul class="list-unstyled ps-3 mb-0">
                <li>2D roll-to-roll CVD on copper foils is scaling to 600&nbsp;mm widths but requires automated transfer to polymers.</li>
                <li>Laser patterning is fastest path for antennas/sensors; photolithography only when <10&nbsp;µm features needed.</li>
                <li>Blend graphene flakes into epoxy/PEEK resins for 5–10× conductivity uplift without full films.</li>
              </ul>
            </div>
          </div>

          <details class="mt-4">
            <summary>Deep dive & pilot ideas</summary>
            <div class="row g-4">
              <div class="col-md-6">
                <h4 class="h6 text-uppercase text-secondary">Applications to watch</h4>
                <ul class="list-group list-group-flush bg-transparent">
                  <li class="list-group-item bg-transparent text-white">Satellite phased-array interconnects (weight savings ~30% vs copper microstrip).</li>
                  <li class="list-group-item bg-transparent text-white">High-current battery current collectors with thinner foils and better thermal spreading.</li>
                  <li class="list-group-item bg-transparent text-white">Barrier layers for hydrogen storage tanks and flexible medical sensors.</li>
                </ul>
              </div>
              <div class="col-md-6">
                <h4 class="h6 text-uppercase text-secondary">Risk mitigations</h4>
                <ul class="list-unstyled ps-3 mb-0">
                  <li>Qualify supply: demand pilot lots with Raman/AFM maps >90% monolayer coverage.</li>
                  <li>Plan hybrid stacks: combine graphene with transition-metal dichalcogenides for tunable bandgaps.</li>
                  <li>Budget for encapsulation; surface contamination rapidly erodes carrier mobility.</li>
                </ul>
              </div>
            </div>
          </details>
        </article>
      </div>

      <div class="col-12">
        <article class="material-card" data-tags="electronics defense energy aerospace photonics">
          <div class="d-flex flex-column flex-lg-row justify-content-between align-items-start gap-3">
            <div>
              <p class="eyebrow">Metamaterials</p>
              <h2 class="h3">Designer lattices that bend waves on command</h2>
              <p class="mb-2">Artificially structured media (<λ/10 unit cells) delivering negative-index optics, beam steering, acoustic cloaking, and adaptive RF absorption.</p>
            </div>
            <div class="text-lg-end">
              <span class="badge-soft d-inline-flex align-items-center mb-1"><i class="bi bi-reception-4 me-1"></i> TRL 4–7 (varies: RF stealth high, visible photonics low)</span><br>
              <span class="badge-soft d-inline-flex align-items-center"><i class="bi bi-tools me-1"></i> Fabrication: nanoimprint, multi-material 3D printing, advanced lithography</span>
            </div>
          </div>

          <div class="row g-4 mt-3">
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Unique levers</h3>
              <ul class="list-unstyled list-check ps-3 mb-0">
                <li>Tailor effective permittivity/permeability to achieve negative or near-zero index.</li>
                <li>Spatial phase modulation enables flat lenses, holographic beam formers, and agile antennas.</li>
                <li>Acoustic lattices create sub-wavelength resonators for noise redirection or sound cloaks.</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Limits to design around</h3>
              <ul class="list-unstyled ps-3 mb-0">
                <li>Narrowband performance (often <10% fractional bandwidth) due to resonant unit cells.</li>
                <li>Ohmic loss rises sharply above 30&nbsp;GHz when metal traces shrink toward skin depth.</li>
                <li>Angular sensitivity: cloaks/lenses degrade for off-axis incidence unless multi-layered.</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Manufacturing & playbook</h3>
              <ul class="list-unstyled ps-3 mb-0">
                <li>RF panels: PCB-like processes already scale to square meters for satellite/5G panels.</li>
                <li>Infrared/visible: nanoimprint lithography plus ALD coatings best balances cost with 100&nbsp;nm features.</li>
                <li>Mechanical/acoustic: voxel-level 3D printing (micro-SLA) offers rapid iteration for drones or HVAC hush liners.</li>
              </ul>
            </div>
          </div>

          <details class="mt-4">
            <summary>Deep dive & deployment patterns</summary>
            <div class="row g-4">
              <div class="col-md-6">
                <h4 class="h6 text-uppercase text-secondary">Applications to watch</h4>
                <ul class="list-group list-group-flush bg-transparent">
                  <li class="list-group-item bg-transparent text-white">Beam-steering satellites and electronically scanned radars without phase shifters.</li>
                  <li class="list-group-item bg-transparent text-white">Broadband electromagnetic shields for EV electronics and quantum computing labs.</li>
                  <li class="list-group-item bg-transparent text-white">Acoustic cloaks for submarines or quiet HVAC retrofits using gradient-density lattices.</li>
                </ul>
              </div>
              <div class="col-md-6">
                <h4 class="h6 text-uppercase text-secondary">Risk mitigations</h4>
                <ul class="list-unstyled ps-3 mb-0">
                  <li>Co-design electronics & metasurfaces to minimize insertion loss and packaging reflections.</li>
                  <li>Model thermal behavior—microwave absorbers can exceed 120&nbsp;°C hotspots without heat sinking.</li>
                  <li>Adopt AI/topology optimization tools to shorten unit-cell tuning cycles.</li>
                </ul>
              </div>
            </div>
          </details>
        </article>
      </div>

      <div class="col-12">
        <article class="material-card" data-tags="aerospace energy defense mobility">
          <div class="d-flex flex-column flex-lg-row justify-content-between align-items-start gap-3">
            <div>
              <p class="eyebrow">Advanced Composites</p>
              <h2 class="h3">Fiber-matrix systems tuned for lightweight durability</h2>
              <p class="mb-2">Carbon, aramid, glass, or ceramic fibers embedded in polymer/metal/ceramic matrices deliver bespoke strength-to-weight advantages already reshaping aerospace and energy platforms.</p>
            </div>
            <div class="text-lg-end">
              <span class="badge-soft d-inline-flex align-items-center mb-1"><i class="bi bi-airplane-engines me-1"></i> TRL 7–9 (flying/fielded)</span><br>
              <span class="badge-soft d-inline-flex align-items-center"><i class="bi bi-droplet-half me-1"></i> Sustainability lever: recyclable thermoplastic resins, bio-based fibers</span>
            </div>
          </div>

          <div class="row g-4 mt-3">
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Unique levers</h3>
              <ul class="list-unstyled list-check ps-3 mb-0">
                <li>Specific stiffness 3–5× aluminum; CFRP fuselage cuts mass by 20%+.</li>
                <li>Tailorable layups concentrate fibers along load paths, boosting fatigue life.</li>
                <li>Hybrid laminates embed sensors or conductive meshes for SHM and lightning strike protection.</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Limits to respect</h3>
              <ul class="list-unstyled ps-3 mb-0">
                <li>Impact damage can delaminate plies without visible exterior cues.</li>
                <li>Polymers relax above glass-transition temperatures; specify Tg 30&nbsp;°C above service.</li>
                <li>Repair logistics: field patches require vacuum bagging or bonded scarf joints.</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h3 class="h6 text-uppercase text-secondary">Manufacturing & playbook</h3>
              <ul class="list-unstyled ps-3 mb-0">
                <li>Automated fiber placement + in-situ consolidation shortens cycle time vs autoclave cures.</li>
                <li>Resin transfer molding well-suited for automotive scale (minutes vs hours cure).</li>
                <li>Digital thread: ultrasound, thermography, and embedded fiber Bragg sensors for QC.</li>
              </ul>
            </div>
          </div>

          <details class="mt-4">
            <summary>Deep dive & deployment patterns</summary>
            <div class="row g-4">
              <div class="col-md-6">
                <h4 class="h6 text-uppercase text-secondary">Applications to watch</h4>
                <ul class="list-group list-group-flush bg-transparent">
                  <li class="list-group-item bg-transparent text-white">Urban air mobility fuselages with thermoplastic CFRP for rapid repair.</li>
                  <li class="list-group-item bg-transparent text-white">Hydrogen tanks using carbon fiber liners plus graphene barrier coatings.</li>
                  <li class="list-group-item bg-transparent text-white">Ceramic matrix composites for turbine hot sections (1300&nbsp;°C+ capability).</li>
                </ul>
              </div>
              <div class="col-md-6">
                <h4 class="h6 text-uppercase text-secondary">Risk mitigations</h4>
                <ul class="list-unstyled ps-3 mb-0">
                  <li>Mandate nondestructive evaluation (NDE) schedules to spot delamination early.</li>
                  <li>Plan recycling: solvolysis or supercritical fluid processes reclaim carbon fibers.</li>
                  <li>Qualify repair procedures with field-friendly heated tooling and pre-cut patches.</li>
                </ul>
              </div>
            </div>
          </details>
        </article>
      </div>

      <div class="col-12 d-none" id="filterEmptyState">
        <div class="empty-state text-center py-5 px-3">
          <i class="bi bi-search text-secondary fs-2 mb-2"></i>
          <p class="mb-1">No material stack matches that combo yet.</p>
          <p class="text-white-50 mb-0">Clear the chips or try a broader query to surface new options.</p>
        </div>
      </div>
    </section>

    <section class="glass-card mt-5">
      <div class="d-flex flex-column flex-lg-row justify-content-between align-items-start gap-3 mb-4">
        <div>
          <p class="eyebrow">Decision support</p>
          <h2 class="h4">Cross-material decision matrix</h2>
          <p class="text-white-50 mb-0">Use this table to align the right material with program constraints. Scores are qualitative (Low / Medium / High) with notes based on current published performance.</p>
        </div>
        <div class="text-lg-end">
          <span class="badge-soft">Update cadence: quarterly literature scan</span>
        </div>
      </div>
      <div class="matrix-focus-controls">
        <div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3">
          <div>
            <p class="stat-label mb-2">Focus a column to reduce cognitive load</p>
            <p class="matrix-note mb-0" id="matrixFocusLabel">Currently viewing all materials.</p>
          </div>
          <div class="d-flex flex-wrap gap-2" id="matrixFocusChips">
            <button type="button" class="btn focus-chip active" data-focus="all">All</button>
            <button type="button" class="btn focus-chip" data-focus="2" data-label="Graphene">Graphene</button>
            <button type="button" class="btn focus-chip" data-focus="3" data-label="Metamaterials">Metamaterials</button>
            <button type="button" class="btn focus-chip" data-focus="4" data-label="Advanced composites">Advanced composites</button>
          </div>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-dark comparison-table align-middle mb-0" data-focus-col="all">
          <thead>
            <tr>
              <th scope="col" class="factor-cell text-uppercase">Factor</th>
              <th scope="col">Graphene</th>
              <th scope="col">Metamaterials</th>
              <th scope="col">Advanced composites</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row" class="factor-cell">Inherent advantage</th>
              <td>Ultimate carrier mobility & impermeability at atomic thickness.</td>
              <td>Wavefront control unattainable with bulk media; programmable optics.</td>
              <td>High specific strength, fatigue resistance, and multifunction integration.</td>
            </tr>
            <tr>
              <th scope="row" class="factor-cell">Manufacturing maturity</th>
              <td>Medium – 8" wafers & roll-to-roll lines emerging, still transfer-limited.</td>
              <td>Low–Medium – mature at microwave PCB scales, nascent for visible light.</td>
              <td>High – production-grade for aerospace/auto; automation still improving.</td>
            </tr>
            <tr>
              <th scope="row" class="factor-cell">Cost trend (2025 → 2030)</th>
              <td>Falling 10–15%/yr as copper-catalyst CVD scales.</td>
              <td>Flat – lithography & assembly costs dominate; expect niche volumes.</td>
              <td>Falling slowly via thermoplastic matrices and faster curing chemistries.</td>
            </tr>
            <tr>
              <th scope="row" class="factor-cell">Near-term anchor markets</th>
              <td>RF electronics, sensors, barrier films, thermal spreaders.</td>
              <td>Antenna arrays, stealth coatings, acoustic isolation, photonic chips.</td>
              <td>Aerospace primary structures, EV enclosures, wind blades, pressure vessels.</td>
            </tr>
            <tr>
              <th scope="row" class="factor-cell">Dominant risk to mitigate</th>
              <td>Defect density & contact resistance.</td>
              <td>Bandwidth/angle constraints and thermal management.</td>
              <td>Damage detection/repair complexity and end-of-life recycling.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="glass-card mt-5" id="readinessSection">
      <div class="row g-4 align-items-center">
        <div class="col-lg-5">
          <p class="eyebrow">Readiness heatmap</p>
          <h2 class="h4">TRL + MRL pulse</h2>
          <p class="text-white-50">See how tech readiness (TRL) and manufacturing readiness (MRL) combine for each stack. Toggle between baseline evidence (today) and stretch commitments (after funded programs).</p>
          <div class="d-flex align-items-center gap-3 mt-3">
            <div class="readiness-toggle" id="readinessToggle">
              <button type="button" class="active" data-mode="baseline">Baseline 2025</button>
              <button type="button" data-mode="stretch">Stretch 2028</button>
            </div>
          </div>
          <p class="matrix-note mt-3 mb-0" id="heatmapNote">Baseline assumes validated supplier data + current certification tempo.</p>
        </div>
        <div class="col-lg-7">
          <div class="readiness-card" id="readinessGrid">
            <div class="readiness-item" data-material="graphene">
              <div class="d-flex justify-content-between align-items-start flex-wrap gap-2">
                <div>
                  <p class="eyebrow text-secondary mb-1">Graphene</p>
                  <h3 class="h5 mb-0" data-field="score">60 / 100</h3>
                </div>
                <div class="text-end">
                  <span class="badge-soft me-1" data-field="trl">TRL 6</span>
                  <span class="badge-soft" data-field="mrl">MRL 4</span>
                </div>
              </div>
              <div class="heatmap-track">
                <div class="heatmap-fill" data-field="fill" style="--fill:60%"></div>
                <span class="heatmap-pip" data-field="pip" style="left:45%"></span>
              </div>
              <p class="readiness-meta" data-field="note">Pilot lines scaling, but high-quality transfer is still the bottleneck.</p>
            </div>
            <div class="readiness-item" data-material="metamaterials">
              <div class="d-flex justify-content-between align-items-start flex-wrap gap-2">
                <div>
                  <p class="eyebrow text-secondary mb-1">Metamaterials</p>
                  <h3 class="h5 mb-0" data-field="score">45 / 100</h3>
                </div>
                <div class="text-end">
                  <span class="badge-soft me-1" data-field="trl">TRL 5</span>
                  <span class="badge-soft" data-field="mrl">MRL 3</span>
                </div>
              </div>
              <div class="heatmap-track">
                <div class="heatmap-fill" data-field="fill" style="--fill:45%"></div>
                <span class="heatmap-pip" data-field="pip" style="left:30%"></span>
              </div>
              <p class="readiness-meta" data-field="note">Microwave/RF arrays are production-ready; visible-light optics still lab-scale.</p>
            </div>
            <div class="readiness-item" data-material="composites">
              <div class="d-flex justify-content-between align-items-start flex-wrap gap-2">
                <div>
                  <p class="eyebrow text-secondary mb-1">Advanced composites</p>
                  <h3 class="h5 mb-0" data-field="score">85 / 100</h3>
                </div>
                <div class="text-end">
                  <span class="badge-soft me-1" data-field="trl">TRL 8</span>
                  <span class="badge-soft" data-field="mrl">MRL 7</span>
                </div>
              </div>
              <div class="heatmap-track">
                <div class="heatmap-fill" data-field="fill" style="--fill:85%"></div>
                <span class="heatmap-pip" data-field="pip" style="left:70%"></span>
              </div>
              <p class="readiness-meta" data-field="note">Flight-proven with thermoplastic upgrades emerging for faster repairs.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="row g-4 mt-4">
        <div class="col-md-12">
          <h2 class="h5">Execution roadmap</h2>
          <div class="row g-3">
            <div class="col-sm-4">
              <div class="timeline-card p-3 h-100">
                <p class="eyebrow">Now – 2026</p>
                <ul class="ps-3 mb-0 small text-white-50">
                  <li>Secure supply MOUs; insist on metrology data packs.</li>
                  <li>Run coupon-level testing for thermal, fatigue, permeability.</li>
                  <li>Deploy digital twins for metamaterial unit-cell sweeps.</li>
                </ul>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="timeline-card p-3 h-100">
                <p class="eyebrow">2027 – 2029</p>
                <ul class="ps-3 mb-0 small text-white-50">
                  <li>Integrate graphene + composites for multifunctional skins.</li>
                  <li>Qualify additive manufacturing for curved metasurfaces.</li>
                  <li>Adopt thermoplastic composites for repairable aircraft/eVTOL.</li>
                </ul>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="timeline-card p-3 h-100">
                <p class="eyebrow">2030+</p>
                <ul class="ps-3 mb-0 small text-white-50">
                  <li>Hybrid quantum/photonic chips with 2D heterostructures.</li>
                  <li>Programmable acoustic skins for urban noise shaping.</li>
                  <li>Closed-loop composite recycling with fiber recovery >80%.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="glass-card mt-5">
      <div class="row g-4">
        <div class="col-lg-4">
          <h2 class="h5">Implementation checklist</h2>
          <ul class="ps-3 mb-0">
            <li>Budget for metrology: Raman, terahertz, ultrasonic, and X-ray CT to verify microstructure.</li>
            <li>Design for repairability—include access panels, bonded inserts, or replaceable metasurface tiles.</li>
            <li>Capture sustainability metrics early: embodied carbon, recyclability, supply ethics.</li>
          </ul>
        </div>
        <div class="col-lg-4">
          <h2 class="h5">Tooling & test stack</h2>
          <ul class="ps-3 mb-0">
            <li>AI/topology optimizers (Adjoint, inverse design) for metamaterial unit cells.</li>
            <li>Automated fiber placement robots with inline thermography for composites.</li>
            <li>Vacuum roll laminators & plasma treaters for wafer-scale graphene transfer.</li>
          </ul>
        </div>
        <div class="col-lg-4">
          <h2 class="h5">Regulatory & certification notes</h2>
          <ul class="ps-3 mb-0">
            <li>Document defect allowances: FAA/EASA require B-basis allowables for each laminate schedule.</li>
            <li>For RF/metamaterials, coordinate with spectrum regulators if beam steering modifies emissions.</li>
            <li>Graphene in biomedical uses must address ISO 10993 biocompatibility & particle release.</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="glass-card mt-5" id="fitExplorer">
      <div class="row g-4 align-items-start">
        <div class="col-lg-5">
          <p class="eyebrow">Interactive planner</p>
          <h2 class="h4">Material fit explorer</h2>
          <p class="text-white-50">Pick the outcomes you care about most. The engine recommends which material stack to lead with, plus how to frame prototypes and risks.</p>
          <div class="mb-3">
            <label for="objectiveSelect" class="stat-label d-block mb-2">Primary objective</label>
            <select id="objectiveSelect" class="form-select control-slate">
              <option value="weight">Extreme weight savings</option>
              <option value="wave">Wave/field control</option>
              <option value="conductivity">Thermal & electrical superconduction</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="horizonSelect" class="stat-label d-block mb-2">Program horizon</label>
            <select id="horizonSelect" class="form-select control-slate">
              <option value="near">0–2 years (retrofit or certification underway)</option>
              <option value="mid">3–5 years (new platform or block upgrade)</option>
              <option value="far">6+ years (moonshots / advanced concepts)</option>
            </select>
          </div>
          <div>
            <p class="stat-label mb-2">Risk posture</p>
            <div class="d-flex flex-wrap gap-2">
              <input class="btn-check" type="radio" name="riskLevel" id="riskLow" value="low" autocomplete="off">
              <label class="btn filter-chip" for="riskLow">Conservative</label>

              <input class="btn-check" type="radio" name="riskLevel" id="riskBalanced" value="balanced" autocomplete="off" checked>
              <label class="btn filter-chip" for="riskBalanced">Balanced</label>

              <input class="btn-check" type="radio" name="riskLevel" id="riskHigh" value="high" autocomplete="off">
              <label class="btn filter-chip" for="riskHigh">Aggressive</label>
            </div>
          </div>
        </div>
        <div class="col-lg-7">
          <div class="recommendation-card h-100">
            <p class="fit-meta mb-1 text-uppercase">Lead stack</p>
            <h3 class="h4 mb-3" id="fitMaterialName">Advanced composites + graphene skins</h3>
            <div class="d-flex flex-wrap gap-2 mb-3">
              <span class="badge-pill" id="fitHorizonBadge">0–2 years</span>
              <span class="badge-pill" id="fitRiskBadge">Balanced risk</span>
            </div>
            <ul class="ps-3 mb-3 text-white-50 small">
              <li id="fitHighlight">Maximize stiffness-to-weight using thermoplastic CFRP plus conductive 2D layers for power and sensing.</li>
              <li id="fitPrototype">Prototype modular fuselage or rotor fairings with embedded heating/EMI meshes.</li>
              <li id="fitRisk">Watch for impact damage and set up embedded SHM to catch delamination early.</li>
            </ul>
            <p class="small text-white-50 mb-1" id="fitHorizonNote">Prioritize suppliers with AS9100 credentials and short-lead tooling.</p>
            <p class="small text-white-50 mb-0" id="fitRiskNote">Mix incremental upgrades with targeted moonshots; reserve capital for extra inspection.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="glass-card mt-5">
      <h2 class="h4">Key takeaways</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="takeaway-card">
            <div class="takeaway-icon"><i class="bi bi-diagram-3"></i></div>
            <div>
              <p class="fw-semibold mb-1">Pair materials for multifunction wins</p>
              <p class="mb-0 text-white-50">Combine graphene conductors with composite shells or nest metasurfaces inside laminates to gain structural + sensing functions.</p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="takeaway-card">
            <div class="takeaway-icon"><i class="bi bi-gear-wide-connected"></i></div>
            <div>
              <p class="fw-semibold mb-1">Automate inspection early</p>
              <p class="mb-0 text-white-50">Inline NDE, digital twins, and embedded sensors cut certification risk for brittle or defect-sensitive materials.</p>
            </div>
          </div>
        </div>
      </div>
      <p class="mt-4 mb-0 text-white-50">Keep iterating: revisit this cheatsheet whenever new fabrication techniques (additive manufacturing, plasma CVD, hybrid weaving) hit maturity—they often shift the cost curve more than new physics does.</p>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-rgOQ02/4OAja1SkpO95SL+4F94kZo8WY21u2TQD1rCkIYZ28VrF1RJNSdz+gbW1B" crossorigin="anonymous"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cardWrappers = Array.from(document.querySelectorAll('#materialCards > .col-12'));
      const filterButtons = Array.from(document.querySelectorAll('#tagFilters .filter-chip'));
      const visibleCountEl = document.getElementById('visibleCount');
      const emptyState = document.getElementById('filterEmptyState');
      const allButton = document.querySelector('#tagFilters [data-tag="all"]');

      const getActiveTags = () =>
        filterButtons
          .filter((btn) => btn.dataset.tag !== 'all' && btn.classList.contains('active'))
          .map((btn) => btn.dataset.tag);

      const applyFilters = () => {
        const activeTags = getActiveTags();
        let visible = 0;

        cardWrappers.forEach((wrapper) => {
          const card = wrapper.querySelector('.material-card');
          if (!card) return;
          const tags = (card.dataset.tags || '').split(' ').filter(Boolean);
          const matchesTag = !activeTags.length || activeTags.some((tag) => tags.includes(tag));
          const shouldShow = matchesTag;
          wrapper.classList.toggle('d-none', !shouldShow);
          if (shouldShow) visible += 1;
        });

        if (visibleCountEl) visibleCountEl.textContent = visible;
        if (emptyState) emptyState.classList.toggle('d-none', visible !== 0);
      };

      filterButtons.forEach((btn) => {
        btn.addEventListener('click', () => {
          const tag = btn.dataset.tag;
          if (tag === 'all') {
            filterButtons.forEach((chip) => chip.classList.remove('active'));
            btn.classList.add('active');
          } else {
            btn.classList.toggle('active');
            if (btn.classList.contains('active')) {
              allButton?.classList.remove('active');
            }
            const hasSpecificActive = filterButtons.some(
              (chip) => chip.dataset.tag !== 'all' && chip.classList.contains('active')
            );
            if (!hasSpecificActive) {
              allButton?.classList.add('active');
            }
          }
          applyFilters();
        });
      });

      applyFilters();

      // Decision matrix focus
      const comparisonTable = document.querySelector('.comparison-table');
      const focusChips = Array.from(document.querySelectorAll('#matrixFocusChips .focus-chip'));
      const matrixFocusLabel = document.getElementById('matrixFocusLabel');

      const setFocus = (col, label) => {
        if (!comparisonTable) return;
        comparisonTable.dataset.focusCol = col;
        focusChips.forEach((chip) => chip.classList.toggle('active', chip.dataset.focus === col));
        if (matrixFocusLabel) {
          matrixFocusLabel.textContent =
            col === 'all'
              ? 'Currently viewing all materials.'
              : `Focusing on ${label}—other columns dimmed for contrast.`;
        }
      };

      focusChips.forEach((chip) => {
        chip.addEventListener('click', () => {
          const col = chip.dataset.focus || 'all';
          const label = chip.dataset.label || 'all materials';
          if (chip.classList.contains('active')) {
            setFocus('all', 'all materials');
          } else {
            setFocus(col, label);
          }
        });
      });

      setFocus('all', 'all materials');

      // Readiness heatmap toggle
      const readinessButtons = Array.from(document.querySelectorAll('#readinessToggle button'));
      const readinessItems = Array.from(document.querySelectorAll('.readiness-item'));
      const heatmapNote = document.getElementById('heatmapNote');
      const readinessData = {
        baseline: {
          note: 'Baseline assumes validated supplier data + current certification tempo.',
          items: {
            graphene: {
              score: 60,
              trl: 6,
              mrl: 4,
              pip: 45,
              note: 'Pilot lines scaling, but high-quality transfer is still the bottleneck.'
            },
            metamaterials: {
              score: 45,
              trl: 5,
              mrl: 3,
              pip: 30,
              note: 'Microwave/RF arrays are production-ready; visible-light optics still lab-scale.'
            },
            composites: {
              score: 85,
              trl: 8,
              mrl: 7,
              pip: 70,
              note: 'Flight-proven with thermoplastic upgrades emerging for faster repairs.'
            }
          }
        },
        stretch: {
          note: 'Stretch case uses funded programs plus automation pushes expected by 2028.',
          items: {
            graphene: {
              score: 75,
              trl: 7,
              mrl: 6,
              pip: 60,
              note: 'Assumes automated transfer + heterostructure fabs reach automotive yields.'
            },
            metamaterials: {
              score: 60,
              trl: 6,
              mrl: 4,
              pip: 40,
              note: 'Programmable RF + photonic tiles validated through dual-use defense pilots.'
            },
            composites: {
              score: 90,
              trl: 9,
              mrl: 8,
              pip: 78,
              note: 'Digital twins + thermoplastic recycling loops make sustainment more predictable.'
            }
          }
        }
      };

      const updateReadiness = (mode = 'baseline') => {
        const dataset = readinessData[mode];
        if (!dataset) return;
        readinessButtons.forEach((btn) => btn.classList.toggle('active', btn.dataset.mode === mode));
        if (heatmapNote) heatmapNote.textContent = dataset.note;
        readinessItems.forEach((item) => {
          const key = item.dataset.material;
          const data = dataset.items[key];
          if (!data) return;
          const scoreEl = item.querySelector('[data-field="score"]');
          const trlEl = item.querySelector('[data-field="trl"]');
          const mrlEl = item.querySelector('[data-field="mrl"]');
          const fillEl = item.querySelector('[data-field="fill"]');
          const pipEl = item.querySelector('[data-field="pip"]');
          const noteEl = item.querySelector('[data-field="note"]');
          if (scoreEl) scoreEl.textContent = `${data.score} / 100`;
          if (trlEl) trlEl.textContent = `TRL ${data.trl}`;
          if (mrlEl) mrlEl.textContent = `MRL ${data.mrl}`;
          if (fillEl) fillEl.style.setProperty('--fill', `${data.score}%`);
          if (pipEl) pipEl.style.left = `${data.pip}%`;
          if (noteEl) noteEl.textContent = data.note;
        });
      };

      readinessButtons.forEach((btn) =>
        btn.addEventListener('click', () => updateReadiness(btn.dataset.mode || 'baseline'))
      );

      updateReadiness('baseline');

      // Fit explorer logic
      const objectiveSelect = document.getElementById('objectiveSelect');
      const horizonSelect = document.getElementById('horizonSelect');
      const riskRadios = Array.from(document.querySelectorAll('input[name="riskLevel"]'));
      const fitMaterialName = document.getElementById('fitMaterialName');
      const fitHighlight = document.getElementById('fitHighlight');
      const fitPrototype = document.getElementById('fitPrototype');
      const fitRisk = document.getElementById('fitRisk');
      const fitHorizonBadge = document.getElementById('fitHorizonBadge');
      const fitRiskBadge = document.getElementById('fitRiskBadge');
      const fitHorizonNote = document.getElementById('fitHorizonNote');
      const fitRiskNote = document.getElementById('fitRiskNote');

      const fitData = {
        weight: {
          material: 'Advanced composites + graphene skins',
          highlight: 'Maximize stiffness-to-weight and add conductive skins for power, sensing, or anti-icing.',
          prototype: 'Thermoplastic CFRP fuselage/tank sections with graphene heaters or EMI meshes.',
          risk: 'Impact detection and field repairs need embedded SHM plus ready-made patch kits.'
        },
        wave: {
          material: 'Programmable metamaterial stack',
          highlight: 'Use metasurfaces to steer RF/light without bulky gimbals or dishes.',
          prototype: 'Tileable antenna panels with phase-change, MEMS, or varactor tuning + digital twin co-design.',
          risk: 'Thermal runaway and unit-cell variability require tight process control and inline metrology.'
        },
        conductivity: {
          material: 'Graphene-first conduction architecture',
          highlight: 'Exploit >5,000 W·m⁻¹·K⁻¹ thermal transport for heat spreaders and low-loss interconnects.',
          prototype: 'Battery current collectors, EMI gaskets, or flexible sensor arrays using CVD graphene + doped resins.',
          risk: 'Transfer defects and contact resistance dominate; plan encapsulation and hybrid stacks.'
        }
      };

      const horizonNotes = {
        near: 'Use suppliers with AS9100/ISO credentials and insist on coupon data in the next 2 quarters.',
        mid: 'Budget 18–30 months for qualification; pair internal teams with university or defense lab partners.',
        far: 'Invest in pilot lines, IP, and workforce now—assume multi-year certification and tooling lead times.'
      };

      const horizonLabels = {
        near: '0–2 years',
        mid: '3–5 years',
        far: '6+ years'
      };

      const riskNotes = {
        low: 'Stick to proven layups/processes and run redundant NDE before freezing designs.',
        balanced: 'Mix incremental upgrades with targeted moonshots; reserve budget for automation & inspection.',
        high: 'Lean into co-development with startups, accept yield hits, and push for adaptive certification paths.'
      };

      const riskLabels = {
        low: 'Conservative risk',
        balanced: 'Balanced risk',
        high: 'Aggressive risk'
      };

      const updateFit = () => {
        const objective = objectiveSelect?.value || 'weight';
        const horizon = horizonSelect?.value || 'near';
        const risk = (riskRadios.find((r) => r.checked)?.value) || 'balanced';
        const base = fitData[objective];
        if (!base) return;

        if (fitMaterialName) fitMaterialName.textContent = base.material;
        if (fitHighlight) fitHighlight.textContent = base.highlight;
        if (fitPrototype) fitPrototype.textContent = base.prototype;
        if (fitRisk) fitRisk.textContent = base.risk;
        if (fitHorizonBadge) fitHorizonBadge.textContent = horizonLabels[horizon];
        if (fitRiskBadge) fitRiskBadge.textContent = riskLabels[risk];
        if (fitHorizonNote) fitHorizonNote.textContent = horizonNotes[horizon];
        if (fitRiskNote) fitRiskNote.textContent = riskNotes[risk];
      };

      objectiveSelect?.addEventListener('change', updateFit);
      horizonSelect?.addEventListener('change', updateFit);
      riskRadios.forEach((radio) => radio.addEventListener('change', updateFit));
      updateFit();
    });
  </script>
  <footer class="container text-center pb-3">
  <div class="mb-3">
    <a class="mx-2" href="engineering-metals-selection.html" rel="noopener noreferrer" target="_blank" title="Engineering Metals Selection">
      <i class="bi bi-lightning"></i>
      Engineering Metals Selection
    </a>
  </div>
  <p class="mb-2">
    © 2025 David Veksler · Compiled &amp; expanded based on materials science research papers and advanced manufacturing technology studies.
  </p>
  <div>
    <a class="mx-2 link-secondary" href="https://www.linkedin.com/in/davidveksler/" target="_blank" title="David Veksler on LinkedIn">
      <i class="bi bi-linkedin"></i>
      LinkedIn
    </a>
    <a class="mx-2 link-secondary" href="https://cheatsheets.davidveksler.com/" title="Browse All Cheatsheets">
      <i class="bi bi-collection"></i>
      All Cheatsheets
    </a>
  </div>
  </footer>
</body>
</html>
